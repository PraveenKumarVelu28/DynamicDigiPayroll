 <div class="container-fluid">
    <div class="row">
        <div class="col-lg-1"></div>
        <div class="col-lg-10">
            <div class="row">
                <div class="col-lg-12">
                    <a href="" class="Heading fontheading">MONTHLY PAYROLL SUMMARY REPORT</a>
                    <hr class="HrLine">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 View">
                    <ul>
                        <li><a class="active fontheading">View</a></li>

                    </ul>
                </div>
            </div>


            <div class="row">
                <div class="col-lg-12">
                    <table class="table table-bordered fonttxt" id="downloadaplication">
                        <thead>
                            <tr class="newFont">
                                <th class="SelectData">Select</th>
                                <th>Year</th>
                                <th>Month</th>
                                <th>Payroll Run type</th>
                                <th>Pay Group</th>
                            </tr>
                        </thead>
                        <tr *ngFor="let staff of stafflist1">
                            <td class="SelectData"><input type="checkbox" data-toggle="collapse" (change)="getMonthandyear(staff.endyear,staff.month)" data-target="#demo">
                            </td>
                            <td>{{staff.endyear}}</td>
                            <td>{{staff.month}}</td>
                            <td>Normal</td>
                            <td>
                                <select class="form-control"  [(ngModel)]="paygroup" >
                                    <option value=" ">Select</option>
                                    <option value="{{paygroup.description}}" *ngFor="let paygroup of result">
                                        {{paygroup.description}}</option>
                                </select>
                            </td>
                        </tr>
                       
                    </table>
                </div>
            </div>

            <div class="container-fluid" id="demo" class="collapse"> 
                <div class="row">
                    <ul>
                        <!-- <li><a class="active fontheading" >Select ALL</a></li>
                        <li><a class="active fontheading">Uncheck ALL</a></li> -->                    
                        <li><a class="active fontheading">Employees in selected Period</a></li>
                    </ul>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <!-- <table class="table table-bordered fonttxt">
                            <thead>
                                <tr class="newFont">
                                    <th class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()">&nbsp; Select</th>
                                    <th>Employee ID</th>
                                    <th>Name</th>
                                    <th>Status</th>
                                    <th>Pay Group</th>
                                </tr>
                                <tr> 
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21042</td>
                                    <td>Tan, Marina Ela Navarro</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21042</td>
                                    <td>Tan, Marina Ela Navarro</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21042</td>
                                    <td>Tan, Marina Ela Navarro</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21042</td>
                                    <td>Tan, Marina Ela Navarro</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>20-017</td>
                                    <td>Tan, Marina Ela Navarro</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21-098</td>
                                    <td>Blanch, Stephaine</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21-091</td>
                                    <td>Tan, Marina Ela Navarro</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                                <tr>
                                    <td class="SelectData"data-toggle="collapse"
                                    data-target="#details"><input type="checkbox" (click)="Showdata()"></td>
                                    <td>21042</td>
                                    <td>Enedya,Lalit</td>
                                    <td>Active</td>
                                    <td>Rank and File Deployed</td>
                                </tr>
                               
                            </thead>
                        </table> -->
                   
                   
                        <table  class="table table-bordered fonttxt" id="downloadaplication">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Employee Id</th>
                                    <th>Employee Name</th>
                                    <th>Role</th>
                                    <th>Phone Number</th>
                                    <th>Email</th>
                                    <th>Date Of Joining</th>
                                    <th>Manager</th>
                                    <th>Paygroup</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of uniquelist1">
                                    <td>
                                        <input type="checkbox" data-toggle="collapse" data-target="#demo1"  (change)="getempdetails(item.id)" >&nbsp;
                                    </td>
    
                                    <td>000{{item.id}}</td>
                                    <td>{{item.name}}</td>
                                    <td>{{item.role}}</td>
                                    <td>{{item.mobile}}</td>
                                    <td>{{item.emailID}}</td>
                                    <td>{{item.joiningDate|date}}</td>
                                    <td>
                                        <p *ngIf="item.manager==null">
                                            NA
                                        </p>
                                        <p *ngIf="item.manager!=null">
                                            {{item.manager}}
                                        </p>
                                    </td>
                                    <td>{{item.paygroup}}</td>
                                  
    
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> <br>

            <div class="row" *ngIf="showtable==1">
                <div class="col-lg-10"></div>
                <div class="col-lg-2">
                    <button class="Fetch" style="margin-left: 10px;" (click)="exportexcel()">Export to Excel</button>
                </div>
            </div> <br>
            <div class="row" *ngIf="showtable==1">
                <div class="col-lg-10"></div>
                <div class="col-lg-2">
                   <p style="font-size: 15px; padding-left: 16px;">Grand Total:27,875</p>
                </div>
            </div> <br>
            <div class="row" id="demo1" class="collapse">
                <div class="col-lg-12" style="overflow:auto;">
                    <!-- <table class="table table-bordered fonttxt" id="download">
                        <thead>
                            <tr class="newFont">
                                <th>Employee ID*</th>
                                <th>Fullname</th>
                                <th>Position</th>
                                <th>Department</th>
                                <th>Date Hired</th>
                                <th>Employement Status</th>
                                <th>Bank Account Number</th>
                                <th>Work Days Per year</th>
                                <th>Basic Monthly Salary</th>
                                <th>De Minimis Benefits(Monthy)</th>
                                <th>Total Monthly Salary</th>
                                <th>Basic Salary (Semi-Monthly)</th>
                                <th>Gross/Day</th>
                                <th>Basic/Hr (8 hours)</th>
                                <th>De Minimis Benefits (Semi-Monthly)</th>
                                <th>13th Month NonTaxable</th>
                                <th>13th Month Taxable </th>                              
                                <th>Withholding Tax </th>
                                <th>SSS</th>
                                <th>Philhealth </th>
                                <th>HDMF</th>
                                <th>Deductions Total</th>
                                <th>Net Pay </th>
                                <th>Assumed 13th Month Accurual</th>
                                <th>Tax YTD</th>
                                <th>Net YTD</th>
                                <th>Taxable Gross</th>
                                <th>SSS ER</th>
                                <th>SSS EC</th>
                                <th>HDMF ER</th>
                                <th>HDMF Addtitional</th>
                            </tr>
                            <tr>
                                <td>21-059</td>
                                <td>Adolfo, Noeme Marie Ayco</td>
                                <td>Accountant/Bookkeeper</td>
                                <td>CREFCO Team</td>
                                <td>09/20/2021</td>
                                <td>Active</td>
                                <td>1094 2596 0820</td>
                               <td>261</td>
                               <td>30,000</td>
                               <td>100</td>
                               <td>30,100</td>
                               <td>15,050</td>
                               <td>1000</td>
                               <td>125</td>
                               <td>50</td>
                               <td>0</td>
                               <td>0</td>
                               <td>0</td>
                               <td>1,125</td>
                               <td>900</td>
                               <td>100.00</td>
                               <td>2,225</td>
                               <td>27,875</td>
                               <td>30,000</td>
                               <td>29,522.62</td>
                               <td>598,015.08 </td>
                               <td>0.00</td>
                               <td>2,125.00 </td>
                               <td>30.00</td>
                               <td>30.00</td>
                               <td>100.00</td>
                            </tr>
                            <tr>
                                <td colspan="8" style="text-align: center;font-weight: bold;">Sub Total</td>
                                <td>30,000</td>
                                <td>100</td>
                                <td>30,100</td>
                                <td>15,050</td>
                                <td>1000</td>
                                <td>125</td>
                                <td>50</td>
                                <td>0</td>
                                <td>0</td>
                                <td>0</td>
                                <td>1,125</td>
                                <td>900</td>
                                <td>100.00</td>
                                <td>2,225</td>
                                <td>27,875</td>
                                <td>30,000</td>
                                <td>29,522.62</td>
                                <td>598,015.08 </td>
                                <td>0.00</td>
                                <td>2,125.00 </td>
                                <td>30.00</td>
                                <td>30.00</td>
                                <td>100.00</td>
                            </tr>
                            <tr>
                                <td colspan="8" style="text-align: center;font-weight: bold;">Total</td>
                                <td>30,000</td>
                               <td>100</td>
                               <td>30,100</td>
                               <td>15,050</td>
                               <td>1000</td>
                               <td>125</td>
                               <td>50</td>
                               <td>0</td>
                               <td>0</td>
                               <td>0</td>
                               <td>1,125</td>
                               <td>900</td>
                               <td>100.00</td>
                               <td>2,225</td>
                               <td>27,875</td>
                               <td>30,000</td>
                               <td>29,522.62</td>
                               <td>598,015.08 </td>
                               <td>0.00</td>
                               <td>2,125.00 </td>
                               <td>30.00</td>
                               <td>30.00</td>
                               <td>100.00</td>
                            </tr>
                        </thead>
                    </table> -->
                    <table class="table" id="lvs">
                        <thead>
                            <tr class="newFont">
                                <th>Employee ID*</th>
                                <th>Fullname</th>
                                <th>Position</th>
                                <th>Department</th>
                                <th>Date Hired</th>
                                <th>Employement Status</th>
                                <th>Bank Account Number</th>
                                <th>Work Days Per year</th>
                                <th>Basic Monthly Salary</th>
                                <th>De Minimis Benefits(Monthy)</th>
                                <th>Total Monthly Salary</th>
                                <th>Basic Salary (Semi-Monthly)</th>
                                <th>Gross/Day</th>
                                <th>Basic/Hr (8 hours)</th>
                                <th>De Minimis Benefits (Semi-Monthly)</th>
                                <th>13th Month NonTaxable</th>
                                <th>13th Month Taxable </th>                              
                                <th>Withholding Tax </th>
                                <th>SSS</th>
                                <th>Philhealth </th>
                                <th>HDMF</th>
                                <th>Deductions Total</th>
                                <th>Net Pay </th>
                                <th>Assumed 13th Month Accurual</th>
                                <th>Tax YTD</th>
                                <th>Net YTD</th>
                                <th>Taxable Gross</th>
                                <th>SSS ER</th>
                                <th>SSS EC</th>
                                <th>HDMF ER</th>
                                <th>HDMF Addtitional</th>
                            </tr>
                            
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of uniquelist">
                                <td>{{item.id}}</td>
                                <td>{{item.staffname}}</td>
                                <td>{{item.role}}</td>
                                <td>{{item.department_name}}</td>
                                <td>{{item.joiningDate}}</td>
                                <td>Active</td>
                                <td>{{BankAccountNumber}}</td>
                                <td>251</td>
                                <td>{{item.baseSalary}}</td>
                                <td>{{item.deniminimis_amount}}</td>
                                <td>{{item.grossSalary}}</td>
                                <td>{{item.baseSalary/2}}</td>
                                <td>{{basicday}}</td>
                                <td>{{basichour}}</td>
                                <td>{{item.deniminimis_amount/2}}</td>
                                <td></td>
                                <td></td>
                                <td>{{item.monthlyTax}}</td>
                                <td>{{item.monthlySSSRate}}</td>
                                <td>{{item.monthlyPhilihealth}}</td>
                                <td>{{item.monthlyPagibigRate}}</td>
                               
                                <td>{{item.totaldeduction}}</td>
                                <td>{{item.monthlyNetSalary}}</td>
                                <td>NA</td>
                                <td>{{item.yeartax}}</td>
                                <td>{{item.yearsalary}}</td>
                                <td>{{item.monthlyNetSalary}}</td>
                                <td>{{item.monthlyss_er}}</td>
                                <td>{{item.monthlyss_ec}}</td>
                                <td>{{item.monthlyPagibigRate/2}}</td>
                                <td>NA</td>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
